# 本地电脑搭建 Lumi 网站

在你自己电脑上把 Lumi 跑起来，用浏览器访问，按下面几步即可。

---

## 一、安装 Python 和依赖

1. 确保本机已安装 **Python 3.8+**（终端执行 `python3 --version` 查看）。
2. 打开终端，进入项目目录：

```bash
cd /path/to/ZeroAssistent
```

（把 `/path/to/ZeroAssistent` 换成你电脑上项目所在路径，如 `~/Desktop/ZeroAssistent`。）

3. 安装项目依赖：

```bash
pip3 install -r requirements.txt
```

若提示权限错误，可改用：`pip3 install --user -r requirements.txt`。  
也可用项目自带脚本一键检测并安装：`python3 scripts/install_dependencies.py`。

---

## 二、配置模型 API（三选一）

Lumi 需要至少一种模型接口才能正常对话、生成代码。在终端里**任选一种**设置（仅当前终端有效）：

**方式 A：您的本地 API（本地或自建模型）**

```bash
export QWEN_API_BASE=http://127.0.0.1:8000/v1
# 若需要鉴权再设置：
export QWEN_API_KEY=你的token
```

**方式 B：DeepSeek 联网**

```bash
export DEEPSEEK_API_KEY=你的DeepSeek密钥
```

**方式 C：阿里云 DashScope**

```bash
export DASHSCOPE_API_KEY=你的DashScope密钥
```

想长期生效可把上述 `export` 写入 `~/.zshrc` 或 `~/.bashrc`，然后执行 `source ~/.zshrc`（或 bashrc）。

---

## 三、启动网站

在**同一终端**、项目目录下，任选一种方式启动。

**方式 1：直接运行（推荐本地用）**

```bash
python3 web_app.py
```

默认只监听本机，浏览器访问：**http://127.0.0.1:5000**。

若希望同一局域网内其他设备也能访问，先设置再运行：

```bash
export FLASK_HOST=0.0.0.0
export PORT=5000
python3 web_app.py
```

然后本机访问 **http://127.0.0.1:5000**，其他设备访问 **http://你的电脑IP:5000**。

**方式 2：用启动脚本（Gunicorn，多进程）**

```bash
chmod +x start.sh
./start.sh
```

默认监听 8000 端口，浏览器访问：**http://127.0.0.1:8000**。改端口可先执行 `export PORT=其它端口` 再运行 `./start.sh`。

---

## 四、用浏览器打开

- 若用 **python3 web_app.py**（默认）：打开 **http://127.0.0.1:5000**
- 若用 **start.sh**（默认）：打开 **http://127.0.0.1:8000**

能看到 Lumi 界面即表示本地网站已搭建成功。关闭终端或按 Ctrl+C 会停止服务。

---

## 小结

| 步骤 | 做什么 |
|------|--------|
| 1 | 进入项目目录，执行 `pip3 install -r requirements.txt` |
| 2 | 设置一种 API：`export DEEPSEEK_API_KEY=xxx` 或 您的本地API / DashScope |
| 3 | 执行 `python3 web_app.py` 或 `./start.sh` |
| 4 | 浏览器打开 http://127.0.0.1:5000 或 http://127.0.0.1:8000 |

更多说明见 **README.md**、**DEPLOY.md**；公网发布见 **阿里云发布步骤.md**。
